<div class="card-wrapper">
  <div class="modern-card">
    <!-- Top Accent Bar -->
    <div class="accent-bar"></div>

    <!-- Card Content -->
    <div class="card-content">
      <!-- Image and Title Section -->
      <div class="header-section">
        <div class="image-wrapper">
          <img [src]="image" alt="Property" class="property-image" />
          <div class="image-overlay"></div>
        </div>

        <div class="title-section">
          <h3 class="property-title">{{ scpi?.name ?? "N/A" }}</h3>

          <!-- Score Badge -->
          <div
            *ngIf="matchedScore !== undefined"
            class="score-badge"
            [ngClass]="{
              'high-score': matchedScore >= 0.8,
              'medium-score': matchedScore >= 0.5 && matchedScore < 0.8,
              'low-score': matchedScore < 0.5
            }"
          >
            <span class="score-value">{{ matchedScore * 100 | number: '1.0-0' }}%</span>
          </div>
        </div>
      </div>

      <!-- Info Tags Section -->
      <div class="info-section">
        <div class="info-row">
          <div class="info-tag location">
            <i class="pi pi-map-marker"></i>
            <p-tag [value]="location" styleClass="custom-tag"></p-tag>
          </div>
          <div class="info-tag sector">
            <i class="pi pi-building"></i>
            <p-tag [value]="sector" styleClass="custom-tag"></p-tag>
          </div>
        </div>
        <div class="info-row">
          <div class="info-tag rate">
            <i class="pi pi-percentage"></i>
            <p-tag [value]="distributionRate" styleClass="custom-tag"></p-tag>
          </div>
          <div class="info-tag subscription">
            <i class="pi pi-wallet"></i>
            <p-tag [value]="minimumSubscription" styleClass="custom-tag"></p-tag>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="action-section">
        <p-button
          *ngIf="isAddingScpi"
          (click)="openInvestirModal('simuler')"
          label="Ajouter"
          icon="pi pi-plus"
          styleClass="primary-button"
        ></p-button>
        <p-button
          *ngIf="!isAddingScpi"
          (click)="openInvestirModal('investir')"
          label="Investir"
          icon="pi pi-chart-line"
          styleClass="primary-button"
        ></p-button>
        <p-button
          [routerLink]="['/details', scpi?.scpiId]"
          label="DÃ©tails"
          icon="pi pi-info-circle"
          styleClass="secondary-button"
        ></p-button>
      </div>
    </div>
  </div>
</div>
